<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="" />
<meta name="author" content="" />
<link rel="icon" href="../favicon.ico" />

<title>Ingo's World</title>

<!-- Bootstrap core CSS -->
<link href="dist/css/bootstrap.min.css" rel="stylesheet" />

<!-- Custom styles for this template -->
<link href="starter-template.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="dist/css/imgareaselect-default.css" />

<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
<!--[if lt IE 9]><script src="../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
<script src="assets/js/ie-emulation-modes-warning.js"></script>

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>
	<div th:include="fragments/navbar" th:remove="tag">
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">

				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed"
						data-toggle="collapse" data-target="#navbar" aria-expanded="false"
						aria-controls="navbar">
						<span class="sr-only">Toggle navigation</span> <span
							class="icon-bar"></span> <span class="icon-bar"></span> <span
							class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Project name</a>
				</div>
				<div id="navbar" class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Home</a></li>
						<li><a href="#about">About</a></li>
						<li><a href="#contact">Contact</a></li>
					</ul>
				</div>
				<!--/.nav-collapse -->
			</div>
		</nav>
	</div>

	<div class="container">
		<div class="starter-template">
			<h1>Mandelbrot Set</h1>
		</div>
				
		<div class="row">
			<div class="col-md-6" >
				<img id="zoom_01" class="img-responsive"
					th:attr="src=@{/getMandelbrotImage(c0=${fractal.c0},c0i=${fractal.c0i},c1=${fractal.c1},c1i=${fractal.c1i},iterations=${fractal.iterations} )}" />
			</div>
			<div class="col-md-4" >

				<div class="panel panel-default">
					<div class="panel-body">

						<form class="form-horizontal" method="get">

							<input type="hidden" name="old_c0x" th:value="${fractal.c0}" />
							<input type="hidden" name="old_c0i" th:value="${fractal.c0i}" />
							<input type="hidden" name="old_c1" th:value="${fractal.c1}" />
							<input type="hidden" name="old_c1i" th:value="${fractal.c1i}" />
							

							<div class="form-group">
								<label for="iterations" class="col-md-6 control-label">Iterations</label>
								<div class="col-md-6">
									<input type="text" class="form-control" id="iterations"
										name="iterations" placeholder="100"
										th:attr="value=${fractal.iterations}" />
								</div>
							</div>
							<div class="form-group">
								<label for="x1" class="col-md-6 control-label">C<sub>0</sub></label>
								<div class="col-md-6">
									<input type="text" class="form-control" id="c0" name="c0"
										th:attr="value=${fractal.c0}" value="-1.5" />
								</div>
							</div>
							<div class="form-group">
								<label for="y1" class="col-md-6 control-label">C<sub>0</sub> i</label>
								<div class="col-md-6">
									<input type="text" class="form-control" id="c0i" name="c0i"
										th:attr="value=${fractal.c0i}" value="-1" />
								</div>
							</div>
							<div class="form-group">
								<label for="x2" class="col-md-6 control-label">C<sub>1</sub></label>
								<div class="col-md-6">
									<input type="text" class="form-control" id="c1" name="c1"
										th:attr="value=${fractal.c1}" value="0.5"  />
								</div>
							</div>
							<div class="form-group">
								<label for="y2" class="col-md-6 control-label">C<sub>1</sub> i</label>
								<div class="col-md-6">
									<input type="text" class="form-control" id="c1i" name="c1i"
										th:attr="value=${fractal.c1i}" value="1"  />
								</div>
							</div>
							<button type="submit" class="btn btn-primary col-md-12">Submit</button>

						</form>
					</div>
				</div>

			</div>
		</div>

	</div>

	<!-- /.container -->


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="js/jquery.min.js"></script>

	<script type="text/javascript" src="js/jquery.imgareaselect.dev.js"></script>
	<script th:inline="javascript">
	/*<![CDATA[*/
	$(document).ready(function () {
		$('#zoom_01').imgAreaSelect({ 
			aspectRatio: '1:1', 
			handles: true,
			onSelectEnd: function (img, selection) {
				var oldC0  = /*[[${fractal.c0}]]*/  -1.5; 
				var oldC0i = /*[[${fractal.c0i}]]*/ -1; 
				var oldC1  = /*[[${fractal.c1}]]*/   0.5; 
				var oldC1i = /*[[${fractal.c1i}]]*/  1; 
		    	var fWidth = oldC1 - oldC0;
		    	var c0  = oldC0  + fWidth * selection.x1 / 500.0;
		    	var c0i = oldC0i + fWidth * selection.y1 / 500.0;
		    	var c1  = oldC0  + fWidth * selection.x2 / 500.0;
		    	var c1i = oldC0i + fWidth * selection.y2 / 500.0;
				$('input[name="c0"]').val(c0);
				$('input[name="c0i"]').val(c0i);
				$('input[name="c1"]').val(c1);
				$('input[name="c1i"]').val(c1i);
			}
		});
	});
	/*]]>*/
	</script>



	<script src="dist/js/bootstrap.min.js"></script>
	<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	<script src="assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
